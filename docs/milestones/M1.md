# M1 交付说明（boot）

## 代码文件

- `boot/entry.S`：multiboot2 header、分页搭建、long mode 切换。
- `linker.ld`：高半区内核链接与低地址 boot 段布局。
- `kernel/kmain.c`：早期初始化入口。
- `kernel/console.c`：串口 + VGA early console。
- `kernel/gdt.c` / `kernel/idt.c` / `kernel/tss.c`：描述符表最小实现。
- `tests/smoke_m1.sh`：QEMU 启动烟测。
- `.github/workflows/ci.yml`：自动构建与烟测。

## 关键函数签名

- `_start` (`boot/entry.S`)
- `void kmain(uint64_t mb2_info);`
- `void console_init(void);`
- `void console_write(const char *str);`
- `void gdt_init(void);`
- `void idt_init(void);`
- `void tss_init(void);`

## 本地验证命令

```bash
make clean all
make smoke
```
